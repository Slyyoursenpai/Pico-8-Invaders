pico-8 cartridge // http://www.pico-8.com
version 41
__lua__
function _init()
-- player attributes
px=60
py=120
pspd=2

--bullet attributes
bullets={}
end
--invader attributes
invaders = {}
inv_dir = 1
inv_speed = 0.3

for y=0,3 do
 for x=0,7 do
  add(invaders,{
   x=20+x*12,
   y=10+y*10,
   alive=true
  })
 end
end

function _update()
--move player
	if btn(⬅️) then
	px-=pspd
	end
	if btn(➡️) then
	px+=pspd
	end
	--shoot
	if btnp(❎) then
	add(bullets,{x=px,y=py-4})
	end
	--update bullets
	for b in all(bullets) do
	b.y-=4
		if b.y<0 then
		del(bullets,b)
		end
	end
	-- move invaders
	local edge = false

	for i in all(invaders) do
 	i.x += inv_dir * inv_speed
 		if i.x < 5 or i.x > 115 then
  	edge = true
 		end
	end

	if edge then
 inv_dir *= -1
 	for i in all(invaders) do
  	i.y += 6
 	end
	end			
end


function _draw()
cls()

--draw player
 spr(1,px,py)
--bullets
	for b in all(bullets) do
  spr(3,b.x,b.y)
		end
--invaders
	for i in all(invaders) do
	spr(2,i.x,i.y)
	end			
end
__gfx__
00000000000000000033330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000003300003300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000003030030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000220003000000300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000220003303303300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700022222200333333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000222222220030030000088000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000222002220300003000088000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
